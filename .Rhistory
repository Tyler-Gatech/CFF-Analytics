cor_by_yds <- as.vector(NA)
#run a loop for each value from 0 to 20
#i.e. we'll see the correlation between running plays over x (0 to 20, as a percent) and the volume of run plays for a team
for(i in 0:20){
data_runs_d1$run_gt_i <- ifelse(data_runs_d1$runyds >i,1,0)
data_run_sum <- data_runs_d1 %>%
group_by(activeteam) %>%
summarize(run_gt_i = sum(run_gt_i), count_run = n(), mean_run = mean(runyds)) %>%
arrange(desc(run_gt_i))
data_run_sum$success_gt_i <- data_run_sum$run_gt_i / data_run_sum$count_run
cor_by_yds[i] <-  cor(data_run_sum$count_run, data_run_sum$success_gt_i)
}
plot(cor_by_yds)
#gather teams 2 pt conversion rate
#####Expected points for going for 2 would be success * 2 / attempts
data_2_pt <- data[data$two.pt.result %in% (c('GOOD','FAILED')),]
data_2_pt$good <- ifelse(data_2_pt$two.pt.result=='GOOD',1,0)
#summarize by team
data_2_pt_sum <- data_2_pt %>%
group_by(activeteam) %>%
summarize(good_ct = sum(good), try_ct = n(), na.rm = TRUE) %>%
arrange(desc(good_ct))
data_2_pt_sum$pct_good = data_2_pt_sum$good_ct / data_2_pt_sum$try_ct
# Merging left and right: Data frames have columns "id" in common
combo <- sqldf("select A.*, B.* from run_sum_d1 as A
inner join data_2_pt_sum as B
on A.activeteam = B.activeteam")
combo$good_ct <- ifelse(is.na(combo$good_ct),0,combo$good_ct)
combo$try_ct <- ifelse(is.na(combo$try_ct),0,combo$try_ct)
combo_clean <- combo[!is.na(combo$pct_good),]
combo_clean <- combo_clean %>%
mutate(quantile = ntile(success_gt2, 8))
summary_by_run2 <- combo_clean %>%
group_by(quantile) %>%
summarize(count = n(), pct_good = sum(good_ct) /sum(try_ct), tries = sum(try_ct))
summary_by_run2
ggplot(data = summary_by_run2,  aes(quantile,pct_good)) + geom_bar(stat = "identity")
ggplot(data = summary_by_run2,  aes(quantile,tries)) + geom_bar(stat = "identity")
#these are the pass ids if data$pass.yds <> NA, except for 7
pass_ids_2018 <- c(3,7,9,24,26,29,36,67)
saveRDS(pass_ids_2018, "pass_ids_2018.rds")
#This leads me to think the passing teams are more successful at 2pt conversions
#let's look at passing %  by 2pt success rate
pass_ids_2018 <- readRDS("pass_ids_2018.rds")
#d1 data
data_d1 <- data[data$activeteam %in% d1_ids_2018$activeteam,]
head(data[data$playtype==7,])
#change sack to passing yds
data_d1$pass.yds <- ifelse(data_d1$playtype==7,data_d1$runyds,data_d1$pass.yds)
data_d1$runyds <- ifelse(data_d1$playtype==7,data_d1$pass.yds,data_d1$runyds)
#d1 data
data_d1 <- data[data$activeteam %in% d1_ids_2018$activeteam,]
#change sack to passing yds
data_d1$pass.yds <- ifelse(data_d1$playtype==7,data_d1$runyds,data_d1$pass.yds)
data_d1$runyds <- ifelse(data_d1$playtype==7,NA,data_d1$runyds)
head(data_d1[data_d1$playtype==7,])
data_d1_pass <- data_d1[(data_d1$playtype %in% pass_ids_2018 & !is.na(data_d1$pass.yds),]
data_d1_pass <- data_d1[(data_d1$playtype %in% pass_ids_2018 & !is.na(data_d1$pass.yds)),]
is.na(data_d1_pass$pass.yds)
sum(is.na(data_d1_pass$pass.yds))
#  a
head(data_d1_pass[data_d1_pass$platype==3])
#  a
head(data_d1[data_d1$platype==3])
#  a
head(data_d1[data_d1$playtype==3,])
#  a
head(data_d1_pass[data_d1_pass$playtype==3,])
#  a
head(data_d1_pass[data_d1_pass$playtype==9,])
#  a
table(data_d1_pass$playtype)
head(data_d1[data_d1$playtype==3,])
#pass % success (includes sacks) on third down
data_d1_pass_3rd <- data_d1_pass[data_d1_pass$down==3,]
#pass % success (includes sacks) on third down
data_d1_pass$success <- ifelse(data_d1_pass$playtype %in% c(9,24,29,67),1,0)
data_d1_pass_3rd <- data_d1_pass[data_d1_pass$down==3,]
#a complete pass
data_d1_pass$pass_comp <- ifelse(data_d1_pass$playtype %in% c(9,24,29,67),1,0)
#pass % success (includes sacks) on third down
data_d1_pass_3rd <- data_d1_pass[data_d1_pass$down==3,]
pass_sum_3rd <- data_d1_pass_3rd %>%
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
head(pass_sum_3rd)
pass_sum_3rd$comp_pct <- pass_sum_3rd$pass_comp_sum / pass_sum_3rd$pass_att_sum
head(pass_sum_3rd)
combo_pass <- sqldf("select A.*, B.* from pass_sum_3rd as A
inner join combo_clean as B
on A.activeteam = B.activeteam")
#why is there only 107 teams?
head(combo_pass)
#why is there only 107 teams?
combo_pass <- combo_pass %>%
mutate(comp_quantile = ntile(comp_pct, 8))
summary_by_pass <- combo_pass %>%
group_by(comp_quantile) %>%
summarize(count = n(), pct_good = sum(good_ct) /sum(try_ct), tries = sum(try_ct))
summary_by_pass
ggplot(data = summary_by_pass,  aes(quantile,pct_good)) + geom_bar(stat = "identity")
ggplot(data = summary_by_pass,  aes(comp_quantile,pct_good)) + geom_bar(stat = "identity")
ggplot(data = summary_by_pass,  aes(comp_quantile,tries)) + geom_bar(stat = "identity")
ggplot(data = summary_by_pass,  aes(comp_quantile,pct_good)) + geom_bar(stat = "identity")
plot(data_2_pt_sum$try_ct,data_2_pt_sum$pct_good)
boxplot(data_2_pt_sum$try_ct,data_2_pt_sum$pct_good)
?boxplot
boxplot(data_2_pt_sum$pct_good ~ data_2_pt_sum$try_ct)
cor(combo_pass$pct_good, combo_pass$comp_pct)
head(combo_pass)
#pass % success (includes sacks) on third down
data_d1_pass$ind_3rd <- ifelse([data_d1_pass$down==3,]
#pass % success (includes sacks) on third down
data_d1_pass$ind_3rd <- ifelse(data_d1_pass$down==3,1,0)
pass_sum <- data_d1_pass %>%
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
head(pass_sum)
head(data_d1_pass)
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
pass_comp_3rd_sum = sum(pass_comp*ind_3rd),
pass_att_3rd_sum = sum(ind_3rd),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
pass_sum <- data_d1_pass %>%
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
pass_comp_3rd_sum = sum(pass_comp*ind_3rd),
pass_att_3rd_sum = sum(ind_3rd),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
head(pass_sum)
pass_sum$ratio_pass_3rd <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
plot(pass_sum$pass_att_sum, pass_sum$pass_att_3rd_sum)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
#pass % success (includes sacks) on third down
data_d1_pass$ind_1st <- ifelse(data_d1_pass$down==1,1,0)
data_d1_pass$ind_2nd <- ifelse(data_d1_pass$down==2,1,0)
data_d1_pass$ind_3rd <- ifelse(data_d1_pass$down==3,1,0)
#summarize by team
pass_sum <- data_d1_pass %>%
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
pass_comp_1st_sum = sum(pass_comp*ind_1st),
pass_att_1st_sum = sum(ind_1st),
pass_comp_2nd_sum = sum(pass_comp*ind_2nd),
pass_att_2nd_sum = sum(ind_3rd),
pass_comp_3rd_sum = sum(pass_comp*ind_3rd),
pass_att_3rd_sum = sum(ind_3rd),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
pass_sum$ratio_pass_1st <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_2nd <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_3rd <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
pass_sum$ratio_pass_1st <- pass_sum$pass_att_1st_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_2nd <- pass_sum$pass_att_2nd_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_3rd <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
pass_sum <- data_d1_pass %>%
group_by(activeteam) %>%
summarize(pass_comp_sum = sum(pass_comp),
pass_att_sum = n(),
pass_comp_1st_sum = sum(pass_comp*ind_1st),
pass_att_1st_sum = sum(ind_1st),
pass_comp_2nd_sum = sum(pass_comp*ind_2nd),
pass_att_2nd_sum = sum(ind_2nd),
pass_comp_3rd_sum = sum(pass_comp*ind_3rd),
pass_att_3rd_sum = sum(ind_3rd),
mean_pass_yds = mean(pass.yds),
total_pass_yds = sum(pass.yds)) %>%
arrange(desc(pass_comp_sum))
head(pass_sum)
pass_sum$ratio_pass_1st <- pass_sum$pass_att_1st_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_2nd <- pass_sum$pass_att_2nd_sum / pass_sum$pass_att_sum
pass_sum$ratio_pass_3rd <- pass_sum$pass_att_3rd_sum / pass_sum$pass_att_sum
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
head(pass_sum)
pass_sum[1:5,]
pass_sum[,]
#interesting downward trend of teams who pass the most tend to do more
#of their passing on 1st down , less on 2nd, even less on 3rd
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_1st)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_2nd)
plot(pass_sum$pass_att_sum, pass_sum$ratio_pass_3rd)
distinct(data$playtype)
unique(data$playtype)
unique(data$playtype) %in% pass_ids_2018
unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018]
unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018][!unique(data$playtype) %in% pass_ids_2018]
unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018]
(unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018])
(unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018])
(unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018]) %in% run_ids_2018
all_play_ids <- unique(data$platype)
all_non_pass_ids <- all_play_ids[!all_play_ids %in% pass_ids_2018]
all_other_ids <- all_non_pass_ids[!all_non_pass_ids %in% run_ids_2018]
all_other_ids
all_non_pass_ids
all_play_ids <- unique(data$platype)
[!all_play_ids %in% pass_ids_2018]
all_play_ids[!all_play_ids %in% pass_ids_2018]
all_play_ids
all_play_ids <- unique(data$platype)
all_non_pass_ids <- all_play_ids[!all_play_ids %in% pass_ids_2018]
all_non_pass_ids
all_play_ids
unique(data$platype)
####Reading Data into R
data <- read.csv("/Users/tknight01/Desktop/Github/CFF/CFBPBPData/2018_CFB_Data.csv",header=TRUE,sep=",")
#these are the run ids if data$runyds <> NA
run_ids_2018 <- c(5,9,29,68)
#these are the pass ids if data$pass.yds <> NA, except for 7
pass_ids_2018 <- c(3,7,9,24,26,29,36,67)
#these are the run ids if data$runyds <> NA
run_ids_2018 <- c(5,9,29,68)
rep(1,3)
pass_group <- rep("pass", len(pass_ids))
pass_group <- rep("pass", length(pass_ids))
pass_ids <- c(3,7,24,26,36,67)
pass_group <- rep("pass", length(pass_ids))
pass_desc <- c("incomplete", "sack", "complete_no_td", "interception_no_td", "interception_td", "complete_td")
ids <- c(run_ids, any_ids, pass_ids)
run_ids <- c(5,68)
run_group <- c("run","run")
run_desc <- c("non td run", "non td run")
any_ids <- c(9,29)
any_group <- c("run or pass", "run or pass")
any_desc <-  c("fumble recovered", "fumble lost" )
pass_ids <- c(3,7,24,26,36,67)
pass_group <- rep("pass", length(pass_ids))
pass_desc <- c("incomplete", "sack", "complete_no_td", "interception_no_td", "interception_td", "complete_td")
ids <- c(run_ids, any_ids, pass_ids)
ids
unique(data$playtype)
leftovers <- ids[!ids %in% unique(data$playtype)]
leftovers
ids
ids %in% unique(data$playtype)
leftovers <- unique(data$playtype)[unique(data$playtype) %in% ids]
leftovers
leftovers
i=1
head(data[data$playtype == leftovers[i]])
sum(data$playtype==leftovers[i])
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", i, " volume:", sum(data$playtype==leftovers[i])))
# sample_elements <- sample(1:pass_table$Freq[i], min(pass_table$Freq[i],2), replace = F)
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]])
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]])
}
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
# sample_elements <- sample(1:pass_table$Freq[i], min(pass_table$Freq[i],2), replace = F)
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]])
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]])
}
run_ids <- c(5,68)
any_ids <- c(9,29)
pass_ids <- c(3,7,24,26,36,67)
ids <- c(run_ids, any_ids, pass_ids)
ids
[unique(data$playtype) %in% ids
unique(data$playtype) %in% ids
leftovers <- unique(data$playtype)[!unique(data$playtype) %in% ids]
leftovers
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
# sample_elements <- sample(1:pass_table$Freq[i], min(pass_table$Freq[i],2), replace = F)
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]])
#print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]]))
#print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]])
}
head(data[data$playtype == leftovers[i]])
head(data[data$playtype == leftovers[i]],)
head(data[data$playtype == leftovers[i],])
head(data$playstring[data$playtype == leftovers[i]])
head(as.string(data$playstring[data$playtype == leftovers[i]]))
head(as.character(data$playstring[data$playtype == leftovers[i]]))
sample(as.character(data$playstring[data$playtype == leftovers[i]]),2)
sample_n(as.character(data$playstring[data$playtype == leftovers[i]]),2)
as.character(data$playstring[data$playtype == 40))
sum(data$playtype==leftovers[i])
saveRDS(pass_ids_2018, "pass_ids_2018.rds")
#Let's map all other playtypes
c(5,9,29,68)
c(3,7,9,24,26,29,36,67)
all_play_ids <- unique(data$platype)
all_non_pass_ids <- all_play_ids[!all_play_ids %in% pass_ids_2018]
all_other_ids <- all_non_pass_ids[!all_non_pass_ids %in% run_ids_2018]
all_other_ids
(unique(data$playtype)[!unique(data$playtype) %in% pass_ids_2018]) %in% run_ids_2018
sample_n(as.character(data$playstring[data$playtype == 40]))
data$playstring[data$playtype == 40]
as.character(data$playstring[data$playtype == 40])
sample_n(as.character(data$playstring[data$playtype == 40]),2)
sample(as.character(data$playstring[data$playtype == 40]),2)
sample(as.character(data$playstring[data$playtype == 40]),1)
sum(data$playtype==leftovers[i])
sample(as.character(data$playstring[data$playtype == 40]),1)
sample(as.character(data$playstring[data$playtype == 40]),1)
sample(as.character(data$playstring[data$playtype == 40]),1)
sample(as.character(data$playstring[data$playtype == 40]),1)
sample(as.character(data$playstring[data$playtype == 40]),1)
sample(as.character(data$playstring[data$playtype == 40]),1)
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),2)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
head(data[data$playtype==60,])
head(data[data$playtype==18,])
leftovers
for (i in 1:length(leftovers)){
#i = 20
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current": leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current": ,leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for(i in leftovers){
print(i)
}
leftovers
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
head(data[data$playtype==30,])
head(data[data$playtype==39,])
head(data[data$gameid==401012302,])
head(data[data$playtype==39,])
data[8757:8759,]
for (i in 1:length(pass_play_list)){
#i = 20
sample_elements <- sample(1:pass_table$Freq[i], min(pass_table$Freq[i],2), replace = F)
print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]]))
print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[1]])
print(c("playtype: ",pass_play_list[i], "volume: ", pass_table$Freq[i], "pass yds: ", as.character(data$pass.yds[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]]))
print(as.character(data$playstring[!is.na(data$pass.yds)&data$playtype==pass_play_list[i]])[sample_elements[2]])
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
data[data$playstring=="Shawn Robinson sacked  by Nick Bosa for a loss of 9 yards, Shawn Robinson fumble Davon Hamilton 0 Yd Fumble Return (Sean Nuernberger Kick)",]
data[50488:50490,]
data[50488:50491,]
data[8757:8759,]
any_ids <- c(9,29, 39)
any_group <- c("run or pass", "run or pass", "run or pass")
any_desc <-  c("fumble recovered", "fumble lost", "fumble td" )
ids <- c(run_ids, any_ids, pass_ids)
ids
leftovers <- unique(data$playtype)[!unique(data$playtype) %in% ids]
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
any_ids <- c(9, 20, 29, 39)
any_group <- c("run or pass", "run or pass", "run or pass", "run or pass")
any_desc <-  c("fumble recovered", "safety", "fumble lost", "fumble td" )
ids <- c(run_ids, any_ids, pass_ids)
leftovers <- unique(data$playtype)[!unique(data$playtype) %in% ids]
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
data[data$playstring="Mecole Hardman 70 Yd Punt Return (Rodrigo Blankenship Kick)",]
data[data$playstring=="Mecole Hardman 70 Yd Punt Return (Rodrigo Blankenship Kick)",]
data[4594:4596,]
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
for (i in 1:length(leftovers)){
#i = 20
print(c("current:",leftovers[i]))
print(c("playtype:", leftovers[i], " volume:", sum(data$playtype==leftovers[i])))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
print(c("sample:", sample(as.character(data$playstring[data$playtype == leftovers[i]]),1)))
}
data[data$playstring=="Ty Mason 0 Yd Return of Blocked Punt (Ventell Bryant Pass to Kenny Yeboah for Two-Point Conversion)",]
data[96466:96468,]
head(data[data$playtype==36,])
data[3628:3630,]
